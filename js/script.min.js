const buttonCart=document.querySelector(".button-cart"),modalShow=document.querySelector(".modal-login"),loginClose=modalShow.querySelector(".modal-close"),modalForm=modalShow.querySelector(".modal-form-name"),iconName=modalShow.querySelector(".form-icon-name"),iconEmail=modalShow.querySelector(".form-icon-email"),textArea=modalShow.querySelector(".textarea-modal"),button=modalShow.querySelector(".button-modal"),slider=document.querySelector(".banner-style"),slides=document.getElementsByClassName("slide"),sliderControls=document.querySelector(".slider-controls"),dods=sliderControls?sliderControls.children:null;let timerId,current=0,prevent=2;function getTimeout(){clearTimeout(timerId),timerId=setTimeout(function e(){dods&&(prevent=0===(current=(current+1)%3)?2:current-1,nextSlide(),timerId=setTimeout(e,4e3))},4e3)}function nextSlide(){slider.classList.remove("site-wrapper-"+prevent),slider.classList.add("site-wrapper-"+current),slides[prevent].classList.remove("slide-current"),slides[current].classList.add("slide-current"),dods[prevent].classList.remove("current"),dods[current].classList.add("current")}if(getTimeout(),dods)for(let e=0;e<dods.length;e++)dods[e].addEventListener("click",function(){let o=Number(dods[e].id);o!==current&&(prevent=current,current=o,nextSlide(),getTimeout())});function checkName(e){return!(!e||e.length<0)||(iconName.classList.add("modal-error"),!1)}buttonCart.addEventListener("click",function(e){e.preventDefault(),modalShow.classList.add("modal-show"),console.log(iconName),iconName.focus()}),loginClose.addEventListener("click",function(e){e.preventDefault(),modalShow.classList.remove("modal-show"),modalShow.classList.remove("modal-error")}),button.addEventListener("click",function(e){checkName(iconName.value)&&iconEmail.value&&textArea.value?localStorage.setItem("login",iconEmail.value):(iconEmail.value||iconEmail.classList.add("modal-error"),textArea.value||textArea.classList.add("modal-error"),setTimeout(function(){iconName.classList.remove("modal-error"),iconEmail.classList.remove("modal-error"),textArea.classList.remove("modal-error")},650))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalShow.classList.contains("modal-show")&&(e.preventDefault(),modalShow.classList.remove("modal-show"),modalShow.classList.remove("modal-error"))});